!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RangeTouch",t):(e=e||self).RangeTouch=t()}(this,(function(){"use strict";const e={addCSS:!0,thumbWidth:15,watch:!0,vertical:!1};const t=e=>null!=e?e.constructor:null,n=(e,t)=>!!(e&&t&&e instanceof t),i=e=>null==e,r=e=>t(e)===Object,s=e=>t(e)===String,o=e=>Array.isArray(e),l=e=>n(e,NodeList);var c=s,u=o,a=l,h=e=>n(e,Element),d=e=>n(e,Event),m=e=>i(e)||(s(e)||o(e)||l(e))&&!e.length||r(e)&&!Object.keys(e).length;function f(e,t){if(1>t){const n=function(e){const t=`${e}`.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}class g{constructor(t,n){h(t)?this.element=t:c(t)&&(this.element=document.querySelector(t)),h(this.element)&&m(this.element.rangeTouch)&&(this.config={...e,...n},this.init())}static get enabled(){return"ontouchstart"in document.documentElement}static setup(t){let n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(m(t)||c(t)?i=Array.from(document.querySelectorAll(c(t)?t:'input[type="range"]')):h(t)?i=[t]:a(t)?i=Array.from(t):u(t)&&(i=t.filter(h)),m(i))return null;const r={...e,...n};if(c(t)&&r.watch){const e=new MutationObserver((e=>{Array.from(e).forEach((e=>{Array.from(e.addedNodes).forEach((e=>{h(e)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(e,t)&&new g(e,r)}))}))}));e.observe(document.body,{childList:!0,subtree:!0})}return i.map((e=>new g(e,n)))}init(){g.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}destroy(){g.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}listeners(e){const t=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((e=>{this.element[t](e,(e=>this.set(e)),!1)}))}get(e){if(!g.enabled||!d(e))return null;const t=e.target,n=e.changedTouches[0],i=parseFloat(t.getAttribute("min"))||0,r=parseFloat(t.getAttribute("max"))||100,s=parseFloat(t.getAttribute("step"))||1;let o;const l=t.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return o=this.config.vertical?100-100/l.height*(n.clientY-l.top):100/l.width*(n.clientX-l.left),0>o?o=0:100<o&&(o=100),50>o?o-=(100-2*o)*c:50<o&&(o+=2*(o-50)*c),i+f(o/100*(r-i),s)}set(e){g.enabled&&d(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){const n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}return g}));
//# sourceMappingURL=rangetouch.js.map
